# Format Analyzer Configuration
# Detects structured content formats in text (markdown, JSON, code, URLs)
#
# Usage: oumi analyze --config configs/examples/analyze/analyze_format.yaml
#
# Metrics computed:
#   - has_markdown: Boolean indicating markdown presence (headers, lists, bold, etc.)
#   - has_json: Boolean indicating JSON content (code blocks or inline)
#   - has_code_blocks: Boolean indicating fenced code blocks (```)
#   - code_block_languages: List of detected programming languages
#   - has_urls: Boolean indicating URL presence
#   - has_emails: Boolean indicating email address presence
#   - format_complexity_score: Composite score (0-1) based on detected formats

# Dataset configuration
dataset_name: yahma/alpaca-cleaned
split: train
sample_count: 100  # Limit samples for quick analysis

# Or use a local file:
# dataset_path: data/dataset_examples/oumi_format.jsonl

output_path: ./analysis_output

# Recommendations and report settings
generate_recommendations: true
outlier_threshold: 3.0

analyzers:
  # Length analyzer for baseline metrics (uses tiktoken o200k_base by default)
  - id: length
    params:
      char_count: false
      word_count: false
      sentence_count: false
      token_count: true  # Uses tiktoken o200k_base (GPT-4o/GPT-5 encoding)

  # Format analyzer for structured content detection
  - id: format
    params:
      detect_markdown: true      # Headers (#), lists (- *), bold (**), italic (*)
      detect_json: true          # JSON code blocks and inline JSON objects/arrays
      detect_code_blocks: true   # Fenced code blocks with language detection
      detect_urls: true          # HTTP/HTTPS URLs
      detect_emails: false       # Email addresses (optional)
      compute_complexity: true   # Overall format complexity score
